---
name: FixCodeRabbitReviews
description: CodeRabbitのレビューコメントを自動修正するためのワークフロー手順です。レビュー修正の依頼があった場合に使用してください。
---

# CodeRabbit Review Fixer

現在のブランチにおけるPRのレビューコメントを解析して、AI Agents向けの指示に従ってコードを修正してください。

## 実行手順

1. **PRコメント取得**

   対象は現在のリポジトリです。ユーザーから提供されたPRのIDを取得し、以下のコマンドを実行してください。get_comment.shはパスが通っているので実行するだけで問題ありません。

   ```bash
   get_comment.sh (PRのID)
   ```

2. **修正計画チェックリスト表示**
   見つかった修正指示を以下の形式でリスト表示:

   ```text
   📋 修正予定:
   □ ファイルパス: 修正内容の概要
   □ ファイルパス: 修正内容の概要
   ...
   ```

3. **コード修正実行**
   各AI Promptの指示に従って該当ファイルを修正:
   - ファイルを読み込み
   - 指示内容を解析
   - 適切な修正を適用
   - ファイルを保存

4. **修正完了レポート**
   実施した修正を以下の形式で報告:

   ```text
   📋 修正完了レポート:
   ✅ ファイルパス: 実施した修正内容
   ✅ ファイルパス: 実施した修正内容
   ❌ ファイルパス: 修正に失敗した理由（あれば）
   ```

5. **Git操作**

   ```bash
   git add .
   git commit -m "fix: PR #{{PRのID}} のレビューコメントを反映

   AI Agents prompts に基づく自動修正"
   git push origin $(git rev-parse --abbrev-ref HEAD)
   ```

6. **不要な作業ファイルを削除**
   作成した $OUT ファイルは削除して

## 重要な制約

- 複数ファイルの修正に対応する
- エラーが発生した場合も、可能な限り他の修正を続行する
- 実際にファイルを変更する前に、修正予定の概要を表示する

## 出力形式

- 各ステップの進行状況を絵文字付きで分かりやすく表示
- 修正前にチェックリスト形式で確認
- 修正後に完了レポートを表示
- エラーがあっても処理を継続し、最終的に結果をまとめて報告

PRコメントの解析から修正・プッシュまでを一貫して実行してください。
